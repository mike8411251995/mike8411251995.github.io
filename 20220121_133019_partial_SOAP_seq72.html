<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <title>20220121_133019_partial_SOAP_seq72</title>
    <script src="https://unpkg.com/gojs/release/go.js"
            integrity="sha384-9TH0YoBAvIJGAck8XgGzLbhxb0xI/zH8yLkF1XGQSwHUuHYj9FvkTDmp6AcQTeBS"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="map.js"></script>

    <script id="code">
        const map_dict = map;
        var seq_name = "20220121_133019_partial_SOAP_seq72";

        var param;
        var pos = document.URL.indexOf("?");
        if (pos != -1) {
            param = document.URL.substring(pos + 1);
            console.log("Parameters: " + param);
        }
        else param = "";

        function init() {
            var $ = go.GraphObject.make;
            var layoutSpacing = new go.Size(192, 108);
            var myDiagram = $(go.Diagram, 'myDiagramDiv', {
                layout: $(go.ForceDirectedLayout),
                // layout: $(go.GridLayout, { spacing: layoutSpacing } ),
                mouseDrop: function(e) { finishDrop(e, null); },
                "undoManager.isEnabled": true,
                "toolManager.hoverDelay": 100
            });

            // Hide tooltip when dragging
            var draggingTool = myDiagram.toolManager.draggingTool;
            draggingTool.doActivate = function() {
                myDiagram.toolManager.hideToolTip();
                go.DraggingTool.prototype.doActivate.call(draggingTool);
            }

            // Expand groups with only one immediate children
            function autoExpand() {
                myDiagram.nodes.each(function(n) {
                    if (n instanceof go.Group) {
                        if (n.data.key == "Unknown") { n.collapseSubGraph(); return; }
                        if (n.data.level == 0) { n.expandSubGraph(); return; }
                        var memberCount = 0;
                        n.memberParts.each(function(m) {
                            if (m instanceof go.Group || m instanceof go.Node) memberCount += 1;
                        })
                        if (memberCount <= 1) n.expandSubGraph();
                        else n.collapseSubGraph();
                    }
                });
            }

            // Highlight a Group that the selection may be dropped into
            function highlightGroup(e, grp, show) {
                if (!grp) return;
                e.handled = true;
                if (show) {
                    // cannot depend on the grp.diagram.selection in the case of external drag-and-drops;
                    // instead depend on the DraggingTool.draggedParts or .copiedParts
                    var tool = grp.diagram.toolManager.draggingTool;
                    var map = tool.draggedParts || tool.copiedParts;  // this is a Map
                    // now we can check to see if the Group will accept membership of the dragged Parts
                    if (grp.canAddMembers(map.toKeySet())) {
                        grp.isHighlighted = true;
                        return;
                    }
                }
                grp.isHighlighted = false;
            }

            // Highlight a node and its connected links by key
            function highlightNodeByKey(key) {
                var node = myDiagram.findNodeForKey(key);
                // for each Link coming out of the Node, set Link.isHighlighted
                node.findLinksConnected().each(function(l) { l.isHighlighted = true; });
                // set node as highlighted
                myDiagram.model.set(node.data, "highlighted", true);

                // set subgroup containing this node as highlighted
                var subgroup = myDiagram.findNodeForKey(node.data.group)
                myDiagram.model.set(subgroup.data, "highlighted", true);

                function flash() {
                    myDiagram.model.set(node.data, "highlighted", !node.data.highlighted);
                    myDiagram.model.set(subgroup.data, "highlighted", !subgroup.data.highlighted);
                }
                function loop() { setTimeout(function() { flash(); loop(); }, 500); }
                loop();
            }

            // Upon a drop onto a Group, we try to add the selection as members of the Group.
            // Upon a drop onto the background, or onto a top-level Node, make selection top-level.
            // If this is OK, we're done; otherwise we cancel the operation to rollback everything.
            function finishDrop(e, grp) {
                var ok = (grp !== null
                    ? grp.addMembers(grp.diagram.selection, true)
                    : e.diagram.commandHandler.addTopLevelParts(e.diagram.selection, true));
                if (!ok) e.diagram.currentTool.doCancel();
            }

            function mergeNode(e, node) {
                var newnode = e.diagram.selection.first();
                while (node.findLinksConnected().first()) {
                    var link = node.findLinksConnected().first()
                    var fromnode = link.fromNode;
                    var tonode = link.toNode;
                    var linkText = link.data.text;
                    var linkSize = link.data.size;
                    node.diagram.model.removeLinkData(link.data);
                    if (fromnode.key === tonode.key) {
                        node.diagram.model.addLinkData( { from: newnode.key, to: newnode.key, text: linkText, size: linkSize } );
                    } else if (fromnode.key === node.key) {
                        node.diagram.model.addLinkData( { from: newnode.key, to: tonode.key, text: linkText, size: linkSize } );
                    } else if (tonode.key === node.key) {
                        node.diagram.model.addLinkData( { from: fromnode.key, to: newnode.key, text: linkText, size: linkSize } );
                    }
                }
                myDiagram.remove(node);
            }

            function mergeGroup(selectedGroup, newGroup) {
                newGroup.addMembers(selectedGroup.memberParts, true);
                myDiagram.remove(selectedGroup)
            }

            myDiagram.nodeTemplate = $(go.Node, 'Auto',
                {
                    mouseDrop: function(e, node) { mergeNode(e, node); },
                    toolTip:
                    $("ToolTip",
                        $(go.Panel, "Vertical",
                        $(go.Picture, { margin: 3, width: 768, height: 432 },
                            new go.Binding("source", "key", convertNodeFullImage)),
                        )
                    )  // end Adornment
                },
                new go.Binding("click", "key", convertNodeURL),
                $(go.Shape, "Rectangle", { fill: null, strokeWidth: 6 },
                    new go.Binding("stroke", "", convertNodeStroke),
                ),
                $(go.Picture,
                    { width: 192, height: 108, background: null, imageStretch: go.GraphObject.Uniform },
                    new go.Binding("source", "key", convertNodeImage)
                )
            );

            myDiagram.groupTemplate = $(go.Group, "Auto",
                {
                    layout: $(go.ForceDirectedLayout),
                    // layout: $(go.GridLayout, { spacing: layoutSpacing } ),
                    ungroupable: true,
                    // highlight when dragging into the Group
                    mouseDragEnter: function(e, grp, prev) { highlightGroup(e, grp, true); },
                    mouseDragLeave: function(e, grp, next) { highlightGroup(e, grp, false); },
                    computesBoundsAfterDrag: true,
                    // when the selection is dropped into a Group, add the selected Parts into that Group;
                    // if it fails, cancel the tool, rolling back any changes
                    mouseDrop: function(e, grp) {
                        var selectedGroup = e.diagram.selection.first();
                        if (selectedGroup instanceof go.Group) {
                            if (selectedGroup.data.level == grp.data.level) { mergeGroup(selectedGroup, grp); }
                            else if (selectedGroup.data.level > grp.data.level) { finishDrop(e, grp); }
                            else { e.diagram.currentTool.doCancel(); }
                        } else if (selectedGroup instanceof go.Node) {
                            finishDrop(e, grp);
                        };
                    },
                    handlesDragDropForMembers: true,  // don't need to define handlers on member Nodes and Links
                    // Groups containing Groups lay out their members horizontally
                    toolTip:
                    $("ToolTip",
                        // new go.Binding("visible", "isSubGraphExpanded", inverter).ofObject(), // TODO: visible only when collapsed
                        new go.Binding("visible", "level", convertLevelVisible),
                        $(go.Panel, "Vertical",
                        $(go.Picture, { margin: 3, width: 768, height: 432 },
                            new go.Binding("source", "preview", convertNodeFullImage)),
                        )
                    )  // end Adornment
                },
                new go.Binding("background", "isHighlighted", function(h) {
                    return h ? "rgba(255,0,0,0.2)" : "transparent";
                }).ofObject(),
                $(go.Shape, "Rectangle",
                    { fill: null, strokeWidth: 2 },
                    new go.Binding("stroke", "", convertGroupColor)
                ),
                $(go.Panel, "Vertical",  // title above Placeholder
                    $(go.Panel, "Horizontal",  // button next to TextBlock
                        { stretch: go.GraphObject.Horizontal },
                        new go.Binding("background", "", convertGroupColor),
                        $("SubGraphExpanderButton",
                            { alignment: go.Spot.Right, margin: 5 } ),
                        $(go.TextBlock,
                            {
                                alignment: go.Spot.Left,
                                editable: true,
                                margin: 5,
                                font: "bold 16px sans-serif",
                                opacity: 0.75,  // allow some color to show through
                                stroke: "#404040"
                            },
                            new go.Binding("text", "key").makeTwoWay()
                        )
                    ),  // end Horizontal Panel
                    $(go.Placeholder,
                        { padding: 5, alignment: go.Spot.TopLeft } )
                )  // end Vertical Panel
            );

            myDiagram.linkTemplate = $(go.Link,
                {
                    curve: go.Link.Bezier,
                    toolTip:
                    $("ToolTip",
                        // tooltip visible only when link is click event
                        new go.Binding("visible", "", convertLinkTooltipVisible),
                        $(go.Panel, "Vertical",
                        $(go.Picture, { margin: 3, width: 768, height: 432 },
                            new go.Binding("source", "", convertLinkFullImage)),
                        )
                    )  // end Adornment
                },
                new go.Binding("click", "", convertLinkURL),
                $(go.Shape,
                    // the Shape.stroke color depends on whether Link.isHighlighted is true
                    new go.Binding("stroke", "isHighlighted", function(h) { return h ? "red" : "black"; }).ofObject(),
                    // the Shape.strokeWidth depends on whether Link.isHighlighted is true
                    new go.Binding("strokeWidth", "isHighlighted", function(h) { return h ? 3 : 1; }).ofObject()
                ),
                $(go.Shape,
                    { toArrow: "Standard", strokeWidth: 0 },
                    // the Shape.fill color depends on whether Link.isHighlighted is true
                    new go.Binding("fill", "isHighlighted", function(h) { return h ? "red" : "black"; }).ofObject(),
                    new go.Binding("scale", "isHighlighted", function(h) { return h ? 2 : 1; }).ofObject(),
                ),
                $(go.Panel, "Auto",
                    $(go.Shape, "Rectangle",
                        { fill: "white", stroke: "lightgray" },
                        new go.Binding("visible", "text", function(text) { return (text != null); }),
                    ),
                    $(go.TextBlock, { margin: 3, opacity: 1., font: "bold 14pt Courier New" },
                        new go.Binding("text", "text")),
                    $(go.Picture, { segmentOffset: new go.Point(0, 0) },
                        { width: 192, height: 35, background: null, imageStretch: go.GraphObject.Uniform },
                        new go.Binding("source", "", convertLinkImage),
                    ),
                )
            );

            myDiagram.model = new go.GraphLinksModel([
                { key: "Unknown", isGroup: true, level: 2 },
                { key: "001074", group: "CC_Soap-00", tag: "start" },
                { key: "CC_Soap-00", preview: "001074", isGroup: true, level: 1, group: "CC_Soap" },
                { key: "CC_Soap", preview: "001074", isGroup: true, level: 0 },
                { key: "001167", group: "CC_Soap-00", tag: "end" },
                { key: "001076", group: "CC_OpdReport-71", tag: null },
                { key: "CC_OpdReport-71", preview: "001076", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "CC_OpdReport", preview: "001076", isGroup: true, level: 0 },
                { key: "001077", group: "CC_OpdReport-72", tag: null },
                { key: "CC_OpdReport-72", preview: "001077", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001078", group: "CC_OpdReport-73", tag: null },
                { key: "CC_OpdReport-73", preview: "001078", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001079", group: "CC_OpdReport-74", tag: null },
                { key: "CC_OpdReport-74", preview: "001079", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001080", group: "CC_OpdReport-75", tag: null },
                { key: "CC_OpdReport-75", preview: "001080", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001081", group: "CC_OpdReport-76", tag: null },
                { key: "CC_OpdReport-76", preview: "001081", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001082", group: "CC_OpdReport-77", tag: null },
                { key: "CC_OpdReport-77", preview: "001082", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001083", group: "CC_OpdReport-78", tag: null },
                { key: "CC_OpdReport-78", preview: "001083", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001084", group: "CC_OpdReport-79", tag: null },
                { key: "CC_OpdReport-79", preview: "001084", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001085", group: "CC_OpdReport-80", tag: null },
                { key: "CC_OpdReport-80", preview: "001085", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001086", group: "CC_OpdReport-81", tag: null },
                { key: "CC_OpdReport-81", preview: "001086", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001087", group: "CC_OpdReport-82", tag: null },
                { key: "CC_OpdReport-82", preview: "001087", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001088", group: "CC_OpdReport-83", tag: null },
                { key: "CC_OpdReport-83", preview: "001088", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001089", group: "CC_OpdReport-84", tag: null },
                { key: "CC_OpdReport-84", preview: "001089", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001090", group: "CC_OpdReport-85", tag: null },
                { key: "CC_OpdReport-85", preview: "001090", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001091", group: "CC_OpdReport-86", tag: null },
                { key: "CC_OpdReport-86", preview: "001091", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001092", group: "CC_OpdReport-87", tag: null },
                { key: "CC_OpdReport-87", preview: "001092", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001093", group: "CC_OpdReport-88", tag: null },
                { key: "CC_OpdReport-88", preview: "001093", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001094", group: "CC_OpdReport-89", tag: null },
                { key: "CC_OpdReport-89", preview: "001094", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001095", group: "CC_OpdReport-90", tag: null },
                { key: "CC_OpdReport-90", preview: "001095", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001096", group: "CC_OpdReport-91", tag: null },
                { key: "CC_OpdReport-91", preview: "001096", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001097", group: "CC_OpdReport-92", tag: null },
                { key: "CC_OpdReport-92", preview: "001097", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001098", group: "CC_OpdReport-93", tag: null },
                { key: "CC_OpdReport-93", preview: "001098", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001099", group: "CC_OpdReport-94", tag: null },
                { key: "CC_OpdReport-94", preview: "001099", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001100", group: "CC_OpdReport-95", tag: null },
                { key: "CC_OpdReport-95", preview: "001100", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001101", group: "CC_OpdReport-96", tag: null },
                { key: "CC_OpdReport-96", preview: "001101", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001102", group: "CC_OpdReport-97", tag: null },
                { key: "CC_OpdReport-97", preview: "001102", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001103", group: "CC_OpdReport-98", tag: null },
                { key: "CC_OpdReport-98", preview: "001103", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001104", group: "CC_OpdReport-99", tag: null },
                { key: "CC_OpdReport-99", preview: "001104", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001105", group: "CC_OpdReport-100", tag: null },
                { key: "CC_OpdReport-100", preview: "001105", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001106", group: "CC_OpdReport-101", tag: null },
                { key: "CC_OpdReport-101", preview: "001106", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001107", group: "CC_OpdReport-102", tag: null },
                { key: "CC_OpdReport-102", preview: "001107", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001108", group: "CC_OpdReport-103", tag: null },
                { key: "CC_OpdReport-103", preview: "001108", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001109", group: "CC_OpdReport-104", tag: null },
                { key: "CC_OpdReport-104", preview: "001109", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001110", group: "CC_OpdReport-105", tag: null },
                { key: "CC_OpdReport-105", preview: "001110", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001111", group: "CC_OpdReport-106", tag: null },
                { key: "CC_OpdReport-106", preview: "001111", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001112", group: "CC_OpdReport-107", tag: null },
                { key: "CC_OpdReport-107", preview: "001112", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001113", group: "CC_OpdReport-108", tag: null },
                { key: "CC_OpdReport-108", preview: "001113", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001114", group: "CC_OpdReport-109", tag: null },
                { key: "CC_OpdReport-109", preview: "001114", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001115", group: "CC_OpdReport-110", tag: null },
                { key: "CC_OpdReport-110", preview: "001115", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001116", group: "CC_OpdReport-111", tag: null },
                { key: "CC_OpdReport-111", preview: "001116", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001117", group: "CC_OpdReport-112", tag: null },
                { key: "CC_OpdReport-112", preview: "001117", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001118", group: "CC_OpdReport-113", tag: null },
                { key: "CC_OpdReport-113", preview: "001118", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001119", group: "CC_OpdReport-114", tag: null },
                { key: "CC_OpdReport-114", preview: "001119", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001120", group: "CC_OpdReport-115", tag: null },
                { key: "CC_OpdReport-115", preview: "001120", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001121", group: "CC_OpdReport-116", tag: null },
                { key: "CC_OpdReport-116", preview: "001121", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001122", group: "CC_OpdReport-117", tag: null },
                { key: "CC_OpdReport-117", preview: "001122", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001123", group: "CC_OpdReport-118", tag: null },
                { key: "CC_OpdReport-118", preview: "001123", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001124", group: "CC_OpdReport-119", tag: null },
                { key: "CC_OpdReport-119", preview: "001124", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001125", group: "CC_OpdReport-120", tag: null },
                { key: "CC_OpdReport-120", preview: "001125", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001126", group: "CC_OpdReport-121", tag: null },
                { key: "CC_OpdReport-121", preview: "001126", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001127", group: "CC_OpdReport-122", tag: null },
                { key: "CC_OpdReport-122", preview: "001127", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001128", group: "CC_OpdReport-123", tag: null },
                { key: "CC_OpdReport-123", preview: "001128", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001129", group: "CC_OpdReport-124", tag: null },
                { key: "CC_OpdReport-124", preview: "001129", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001130", group: "CC_OpdReport-125", tag: null },
                { key: "CC_OpdReport-125", preview: "001130", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001131", group: "CC_OpdReport-126", tag: null },
                { key: "CC_OpdReport-126", preview: "001131", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001132", group: "CC_OpdReport-127", tag: null },
                { key: "CC_OpdReport-127", preview: "001132", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001133", group: "CC_OpdReport-128", tag: null },
                { key: "CC_OpdReport-128", preview: "001133", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001134", group: "CC_OpdReport-129", tag: null },
                { key: "CC_OpdReport-129", preview: "001134", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001135", group: "CC_OpdReport-130", tag: null },
                { key: "CC_OpdReport-130", preview: "001135", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001136", group: "CC_OpdReport-131", tag: null },
                { key: "CC_OpdReport-131", preview: "001136", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001137", group: "CC_OpdReport-132", tag: null },
                { key: "CC_OpdReport-132", preview: "001137", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001138", group: "CC_OpdReport-133", tag: null },
                { key: "CC_OpdReport-133", preview: "001138", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001139", group: "CC_OpdReport-134", tag: null },
                { key: "CC_OpdReport-134", preview: "001139", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001140", group: "CC_OpdReport-135", tag: null },
                { key: "CC_OpdReport-135", preview: "001140", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001141", group: "CC_OpdReport-136", tag: null },
                { key: "CC_OpdReport-136", preview: "001141", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001142", group: "CC_OpdReport-137", tag: null },
                { key: "CC_OpdReport-137", preview: "001142", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001143", group: "CC_OpdReport-138", tag: null },
                { key: "CC_OpdReport-138", preview: "001143", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001144", group: "CC_OpdReport-139", tag: null },
                { key: "CC_OpdReport-139", preview: "001144", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001145", group: "CC_OpdReport-140", tag: null },
                { key: "CC_OpdReport-140", preview: "001145", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001146", group: "CC_OpdReport-141", tag: null },
                { key: "CC_OpdReport-141", preview: "001146", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001147", group: "CC_OpdReport-142", tag: null },
                { key: "CC_OpdReport-142", preview: "001147", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001148", group: "CC_OpdReport-143", tag: null },
                { key: "CC_OpdReport-143", preview: "001148", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001149", group: "CC_OpdReport-144", tag: null },
                { key: "CC_OpdReport-144", preview: "001149", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001150", group: "CC_OpdReport-145", tag: null },
                { key: "CC_OpdReport-145", preview: "001150", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001151", group: "CC_OpdReport-146", tag: null },
                { key: "CC_OpdReport-146", preview: "001151", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001152", group: "CC_OpdReport-147", tag: null },
                { key: "CC_OpdReport-147", preview: "001152", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001153", group: "CC_OpdReport-148", tag: null },
                { key: "CC_OpdReport-148", preview: "001153", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001154", group: "CC_OpdReport-149", tag: null },
                { key: "CC_OpdReport-149", preview: "001154", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001155", group: "CC_OpdReport-150", tag: null },
                { key: "CC_OpdReport-150", preview: "001155", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001156", group: "CC_OpdReport-151", tag: null },
                { key: "CC_OpdReport-151", preview: "001156", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001157", group: "CC_OpdReport-152", tag: null },
                { key: "CC_OpdReport-152", preview: "001157", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001158", group: "CC_OpdReport-153", tag: null },
                { key: "CC_OpdReport-153", preview: "001158", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001159", group: "CC_OpdReport-154", tag: null },
                { key: "CC_OpdReport-154", preview: "001159", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001160", group: "CC_OpdReport-155", tag: null },
                { key: "CC_OpdReport-155", preview: "001160", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001161", group: "CC_OpdReport-156", tag: null },
                { key: "CC_OpdReport-156", preview: "001161", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001162", group: "CC_OpdReport-157", tag: null },
                { key: "CC_OpdReport-157", preview: "001162", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001163", group: "CC_OpdReport-158", tag: null },
                { key: "CC_OpdReport-158", preview: "001163", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001164", group: "CC_OpdReport-159", tag: null },
                { key: "CC_OpdReport-159", preview: "001164", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001165", group: "CC_OpdReport-160", tag: null },
                { key: "CC_OpdReport-160", preview: "001165", isGroup: true, level: 1, group: "CC_OpdReport" },
                { key: "001166", group: "CC_OpdReport-161", tag: null },
                { key: "CC_OpdReport-161", preview: "001166", isGroup: true, level: 1, group: "CC_OpdReport" },
        ], [
                { from: "001074", to: "Unknown", text: null },
                { from: "Unknown", to: "001076", text: null },
                { from: "001076", to: "001077", text: null },
                { from: "001077", to: "001078", text: null },
                { from: "001078", to: "001079", text: null },
                { from: "001079", to: "001080", text: null },
                { from: "001080", to: "001081", text: null },
                { from: "001081", to: "001082", text: null },
                { from: "001082", to: "001083", text: null },
                { from: "001083", to: "001084", text: null },
                { from: "001084", to: "001085", text: null },
                { from: "001085", to: "001086", text: null },
                { from: "001086", to: "001087", text: null },
                { from: "001087", to: "001088", text: null },
                { from: "001088", to: "001089", text: null },
                { from: "001089", to: "001090", text: null },
                { from: "001090", to: "001091", text: null },
                { from: "001091", to: "001092", text: null },
                { from: "001092", to: "001093", text: null },
                { from: "001093", to: "001094", text: null },
                { from: "001094", to: "001095", text: null },
                { from: "001095", to: "001096", text: null },
                { from: "001096", to: "001097", text: null },
                { from: "001097", to: "001098", text: null },
                { from: "001098", to: "001099", text: null },
                { from: "001099", to: "001100", text: null },
                { from: "001100", to: "001101", text: null },
                { from: "001101", to: "001102", text: null },
                { from: "001102", to: "001103", text: null },
                { from: "001103", to: "001104", text: null },
                { from: "001104", to: "001105", text: null },
                { from: "001105", to: "001106", text: null },
                { from: "001106", to: "001107", text: null },
                { from: "001107", to: "001108", text: null },
                { from: "001108", to: "001109", text: null },
                { from: "001109", to: "001110", text: null },
                { from: "001110", to: "001111", text: null },
                { from: "001111", to: "001112", text: null },
                { from: "001112", to: "001113", text: null },
                { from: "001113", to: "001114", text: null },
                { from: "001114", to: "001115", text: null },
                { from: "001115", to: "001116", text: null },
                { from: "001116", to: "001117", text: null },
                { from: "001117", to: "001118", text: null },
                { from: "001118", to: "001119", text: null },
                { from: "001119", to: "001120", text: null },
                { from: "001120", to: "001121", text: null },
                { from: "001121", to: "001122", text: null },
                { from: "001122", to: "001123", text: null },
                { from: "001123", to: "001124", text: null },
                { from: "001124", to: "001125", text: null },
                { from: "001125", to: "001126", text: null },
                { from: "001126", to: "001127", text: null },
                { from: "001127", to: "001128", text: null },
                { from: "001128", to: "001129", text: null },
                { from: "001129", to: "001130", text: null },
                { from: "001130", to: "001131", text: null },
                { from: "001131", to: "001132", text: null },
                { from: "001132", to: "001133", text: null },
                { from: "001133", to: "001134", text: null },
                { from: "001134", to: "001135", text: null },
                { from: "001135", to: "001136", text: null },
                { from: "001136", to: "001137", text: null },
                { from: "001137", to: "001138", text: null },
                { from: "001138", to: "001139", text: null },
                { from: "001139", to: "001140", text: null },
                { from: "001140", to: "001141", text: null },
                { from: "001141", to: "001142", text: null },
                { from: "001142", to: "001143", text: null },
                { from: "001143", to: "001144", text: null },
                { from: "001144", to: "001145", text: null },
                { from: "001145", to: "001146", text: null },
                { from: "001146", to: "001147", text: null },
                { from: "001147", to: "001148", text: null },
                { from: "001148", to: "001149", text: null },
                { from: "001149", to: "001150", text: null },
                { from: "001150", to: "001151", text: null },
                { from: "001151", to: "001152", text: null },
                { from: "001152", to: "001153", text: null },
                { from: "001153", to: "001154", text: null },
                { from: "001154", to: "001155", text: null },
                { from: "001155", to: "001156", text: null },
                { from: "001156", to: "001157", text: null },
                { from: "001157", to: "001158", text: null },
                { from: "001158", to: "001159", text: null },
                { from: "001159", to: "001160", text: null },
                { from: "001160", to: "001161", text: null },
                { from: "001161", to: "001162", text: null },
                { from: "001162", to: "001163", text: null },
                { from: "001163", to: "001164", text: null },
                { from: "001164", to: "001165", text: null },
                { from: "001165", to: "001166", text: null },
                { from: "001166", to: "001167", text: null },
            ]);

            autoExpand();
            if (param != "") highlightNodeByKey(param);
        }

        function convertLevelVisible(level) {
            if (level == 1) { return true }
            else if (level == 0) { return false }
            else { return false }
        }

        function convertGroupColor(data) {
            if (data.highlighted) { return "red" }
            if (data.level == 0) { return "#33D3E5" }
            else if (data.level == 1) { return "#FFDD33" }
            else if (data.level == 2) { return "#ACE600" }
            else { return "#000000" }
        }

        function convertNodeImage(key) {
            if (key == null) return "";
            else return "imgs/nodes/f" + key + "_node.png";
        }

        function convertNodeFullImage(key) {
            if (key == null) return "";
            else return "imgs/nodes/f" + key + "_full.png";
        }

        function convertNodeURL(key) {
            if (key == null) return null;
            if (map_dict[parseInt(key)] && seq_name.includes("_all")) return function() {
                window.open(map_dict[parseInt(key)][0] + ".html");
            }
            else return function() {
                window.open("imgs/nodes/f" + key + "_full.png");
            }
        }

        function convertLinkTooltipVisible(data) {
            var from = data.from
            var to = data.to
            var text = data.text
            if (from == "Unknown" || to == "Unknown" || text != null) return false;
            else return true;
        }

        function convertLinkImage(data) {
            var from = data.from
            var to = data.to
            var text = data.text
            if (from == "Unknown" || to == "Unknown" || text != null) return null;
            else return "imgs/links/f" + from + "-f" + to + "_crop.png";
        }

        function convertLinkFullImage(data) {
            var from = data.from
            var to = data.to
            var text = data.text
            if (from == "Unknown" || to == "Unknown" || text != null) return null;
            else return "imgs/links/f" + from + "-f" + to + "_full.png";
        }

        function convertLinkURL(data) {
            var from = data.from
            var to = data.to
            var text = data.text
            if (from == "Unknown" || to == "Unknown" || text != null) return null;
            else return function() {
                window.open("imgs/links/f" + from + "-f" + to + "_full.png");
            }
        }

        function convertNodeStroke(data) {
            if (data.highlighted) return "red";
            if (data.tag == "start" || data.tag == "end") return "green";
            else return "white";
        }

        function inverter(x) {
            return !x;
        }

        // Call init on page load
        window.addEventListener('DOMContentLoaded', init);
    </script>
</head>

<body>
    <div id="sample">
        <div style="width: 100%; display: flex; justify-content: space-between">
            <div id="myDiagramDiv" style="flex-grow: 1; height: 1000px; border: solid 1px black"></div>
        </div>
    </div>
</body>
</html>
